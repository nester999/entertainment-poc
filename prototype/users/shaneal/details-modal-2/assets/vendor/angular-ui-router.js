/**
 * State-based routing for AngularJS
 * @version v0.2.11-dev-2015-07-16
 * @link http://angular-ui.github.com/
 * @license MIT License, http://www.opensource.org/licenses/MIT
 */
!function(a,b){"object"==typeof exports&&"object"==typeof module?module.exports=b():"function"==typeof define&&define.amd?define(b):"object"==typeof exports?exports["ui.router"]=b():a["ui.router"]=b()}(this,function(){return function(a){function b(d){if(c[d])return c[d].exports;var e=c[d]={exports:{},id:d,loaded:!1};return a[d].call(e.exports,e,e.exports,b),e.loaded=!0,e.exports}var c={};return b.m=a,b.c=c,b.p="",b(0)}([function(a,b,c){a.exports=c(1)},function(a,b,c){var d=c(2);b.angular1=d;var e=c(3);b.common=e;var f=c(4);b.glob=f;var g=c(5);b.rejectFactory=g;var h=c(6),i=c(13),j=c(12),k={Resolvable:h["default"],Path:i["default"],PathElement:j["default"]};b.resolve=k;var l=c(14);b.state=l;var m=c(21);b.stateDirectives=m;var n=c(22);b.stateEvents=n;var o=c(23);b.stateFilters=o;var p=c(24);b.templateFactory=p;var q=c(7);b.trace=q;var r=c(8);b.transition=r;var s=c(25);b.urlMatcher=s;var t=c(26);b.urlMatcherFactory=t;var u=c(27);b.urlRouter=u;var v=c(28);b.view=v;var w=c(20);b.viewContext=w;var x=c(29);b.viewDirective=x;var y=c(30);b.viewScroll=y},function(a,b){function c(a,b,c){var d=b.instantiate;try{var e;return b.instantiate=function(a){b.instantiate=d,e=b.annotate(a)},a(c,{$scope:{}}),e}finally{b.instantiate=d}}function d(a){b.runtime.setRuntimeInjector(a)}var e=angular.module("ui.router.angular1",[]);b.runtime={setRuntimeInjector:function(a){b.runtime.$injector=a,b.runtime.$q=a.get("$q")},$injector:void 0,$q:void 0},b.annotateController=c,d.$inject=["$injector"],e.run(d)},function(a,b){function c(a,b){return V(new(V(function(){},{prototype:a})),b)}function d(a){void 0===a&&(a={});for(var b=[],c=1;c<arguments.length;c++)b[c-1]=arguments[c];var d=e.apply(null,[{}].concat(b));return V({},d,m(a||{},g(d)))}function e(a){for(var b=[],c=1;c<arguments.length;c++)b[c-1]=arguments[c];return U(b,function(b){U(b,function(b,c){a.hasOwnProperty(c)||(a[c]=b)})}),a}function f(a,b){var c=[];for(var d in a.path){if(a.path[d]!==b.path[d])break;c.push(a.path[d])}return c}function g(a){if(Object.keys)return Object.keys(a);var b=[];return U(a,function(a,c){b.push(c)}),b}function h(a,b){if(Array.prototype.indexOf)return a.indexOf(b,Number(arguments[2])||0);var c=a.length>>>0,d=Number(arguments[2])||0;for(d=0>d?Math.ceil(d):Math.floor(d),0>d&&(d+=c);c>d;d++)if(d in a&&a[d]===b)return d;return-1}function i(a,b,c,d){var e,i=f(c,d),j={},k=[];for(var l in i)if(i[l].params&&(e=g(i[l].params),e.length))for(var m in e)h(k,e[m])>=0||(k.push(e[m]),j[e[m]]=a[e[m]]);return V({},j,b)}function j(a,b,c){if(!c){c=[];for(var d in a)c.push(d)}for(var e=0;e<c.length;e++){var f=c[e];if(a[f]!=b[f])return!1}return!0}function k(a,b){var c={};return U(a,function(a){O(b[a])&&(c[a]=b[a])}),c}function l(a,b){var c={};return U(a,function(a){c[a[b]]=a}),c}function m(a){var b={},c=Array.prototype.concat.apply(Array.prototype,Array.prototype.slice.call(arguments,1));for(var d in a)-1!==c.indexOf(d)&&(b[d]=a[d]);return b}function n(a){var b={},c=Array.prototype.concat.apply(Array.prototype,Array.prototype.slice.call(arguments,1));for(var d in a)-1===c.indexOf(d)&&(b[d]=a[d]);return b}function o(a,b){return s(a,D(b))}function p(a,b){var c=T(a),d=[],e={};return U(a,function(a,f){b(a,f)&&(c?d.push(a):e[f]=a)}),c?d:e}function q(a){return function(b){return p(b,a)}}function r(a,b){var c;return U(a,function(a,d){c||b(a,d)&&(c=a)}),c}function s(a,b){var c=T(a)?[]:{};return U(a,function(a,d){c[d]=b(a,d)}),c}function t(a){return function(b){return s(b,a)}}function u(a){var b=[];return U(a,function(a){b=b.concat(a)}),b}function v(a){return a=a||angular.identity,function(b){var c=[];return U(b,function(b,d){var e={};e[d]=b,c.push(a(e))}),c}}function w(a){function b(a,c){return U(a,function(a){angular.isArray(a)?b(a,c):c.push(a)}),c}return b(a,[])}function x(a,b){function c(a){if(!T(a))throw new Error("Not an array: "+a)}if(!O(b))return a.reduce(function(a,b){return c(b),a[b[0]]=b[1],a},{});if(a.length!==b.length)throw new Error("pairs(): Unequal length arrays not allowed");return a.reduce(function(a,c,d){return a[c]=b[d],a},{})}function y(a){var b=[];return U(a,function(a,c){return b.push([c,a])}),b}function z(a){return P(a)||T(a)&&P(a[a.length-1])}function A(a){return null===a}function B(){var a=arguments,b=a.length-1;return function(){for(var c=b,d=a[b].apply(this,arguments);c--;)d=a[c].call(this,d);return d}}function C(){for(var a=[],b=0;b<arguments.length;b++)a[b-0]=arguments[b];return B.apply(null,[].slice.call(arguments).reverse())}function D(a){return function(b){return b&&b[a]}}function E(a){return C.apply(null,a.split(".").map(D))}function F(a){return function(){return!a.apply(null,[].slice.call(arguments))}}function G(a,b){return function(){return a.apply(null,[].slice.call(arguments))&&b.apply(null,[].slice.call(arguments))}}function H(a,b){return function(){return a.apply(null,[].slice.call(arguments))||b.apply(null,[].slice.call(arguments))}}function I(a){return function(b){return null!=b&&b.constructor===a||b instanceof a}}function J(a){return function(b){return b===a}}function K(a,b){return function(){var c=[].slice.call(arguments);return a.apply(null,c)===b.apply(null,c)}}function L(a){return function(){return a}}function M(a,b){return function(c){return c[a].apply(c,b)}}function N(a){return function(b){for(var c=0;c<a.length;c++)if(a[c][0](b))return a[c][1](b)}}var O=angular.isDefined,P=angular.isFunction,Q=angular.isNumber,R=angular.isString,S=angular.isObject,T=angular.isArray,U=angular.forEach,V=angular.extend,W=angular.copy,X=angular.noop,Y=angular.toJson,Z=angular.fromJson,$=angular.equals,_=angular.identity;b.isDefined=O,b.isFunction=P,b.isNumber=Q,b.isString=R,b.isObject=S,b.isArray=T,b.forEach=U,b.extend=V,b.copy=W,b.noop=X,b.toJson=Y,b.fromJson=Z,b.equals=$,b.identity=_,b.abstractKey="abstract",b.inherit=c,b.defaults=d,b.merge=e,b.ancestors=f,b.objectKeys=g,b.arraySearch=h,b.indexOf=h,b.inheritParams=i,b.equalForKeys=j,b.filterByKeys=k,b.indexBy=l,b.pick=m,b.omit=n,b.pluck=o,b.filter=p,b._filter=q,b.find=r,b.map=s,b._map=t,b.unnest=u,b.unroll=v,b.flatten=w,b.zipObject=x,b.pairs=y,b.isInjectable=z,b.isNull=A,b.compose=B,b.pipe=C,b.prop=D,b.parse=E,b.not=F,b.and=G,b.or=H,b.is=I,b.eq=J,b.isEq=K,b.val=L,b.invoke=M,b.pattern=N,b.isPromise=G(S,C(D("then"),P)),angular.module("ui.router.util",["ng"]),angular.module("ui.router.router",["ui.router.util"]),angular.module("ui.router.state",["ui.router.router","ui.router.util"]),angular.module("ui.router",["ui.router.state","ui.router.angular1"]),angular.module("ui.router.compat",["ui.router"])},function(a,b){var c=function(){function a(a){this.text=a,this.glob=a.split(".")}return a.prototype.matches=function(a){for(var b=a.split("."),c=0,d=this.glob.length;d>c;c++)"*"===this.glob[c]&&(b[c]="*");return"**"===this.glob[0]&&(b=b.slice(b.indexOf(this.glob[1])),b.unshift("**")),"**"===this.glob[this.glob.length-1]&&(b.splice(b.indexOf(this.glob[this.glob.length-2])+1,Number.MAX_VALUE),b.push("**")),this.glob.length!=b.length?!1:b.join("")===this.glob.join("")},a.is=function(a){return a.indexOf("*")>-1},a.fromString=function(b){return this.is(b)?new a(b):null},a}();b.Glob=c},function(a,b,c){"use strict";var d=c(3),e=c(2);!function(a){a[a.SUPERSEDED=2]="SUPERSEDED",a[a.ABORTED=3]="ABORTED",a[a.INVALID=4]="INVALID",a[a.IGNORED=5]="IGNORED"}(b.RejectType||(b.RejectType={}));var f=b.RejectType,g=function(){function a(a,b,c){d.extend(this,{type:a,message:b,detail:c})}return a.prototype.toString=function(){function a(a){return a&&a.toString!==Object.prototype.toString?a.toString():JSON.stringify(a)}var b=this.type,c=this.message,d=a(this.detail);return"TransitionRejection(type: "+b+", message: "+c+", detail: "+d+")"},a}();b.TransitionRejection=g;var h=function(){function a(){}return a.prototype.superseded=function(a,b){var c="The transition has been superseded by a different transition (see detail).",h=new g(f.SUPERSEDED,c,a);return b&&b.redirected&&(h.redirected=!0),d.extend(e.runtime.$q.reject(h),{reason:h})},a.prototype.redirected=function(a){return this.superseded(a,{redirected:!0})},a.prototype.invalid=function(a){var b="This transition is invalid (see detail)",c=new g(f.INVALID,b,a);return d.extend(e.runtime.$q.reject(c),{reason:c})},a.prototype.ignored=function(a){var b="The transition was ignored.",c=new g(f.IGNORED,b,a);return d.extend(e.runtime.$q.reject(c),{reason:c})},a.prototype.aborted=function(a){var b="The transition has been aborted.",c=new g(f.ABORTED,b,a);return d.extend(e.runtime.$q.reject(c),{reason:c})},a}();b.RejectFactory=h},function(a,b,c){var d=c(3),e=c(7),f=c(2),g=function(){function a(a,b,c){this.promise=void 0,this.name=a,this.resolveFn=b,this.state=c,this.deps=f.runtime.$injector.annotate(b)}return a.prototype.resolveResolvable=function(a,b){var c=this;b=b||{},b.trace&&e.trace.traceResolveResolvable(this,b);var g=f.runtime.$q.defer();this.promise=g.promise;var h=a.getResolvables({omitOwnLocals:[this.name]}),i=d.pick(h,this.deps),j=d.map(i,function(c){return c.get(a,b)});return f.runtime.$q.all(j).then(function(a){try{var b=f.runtime.$injector.invoke(c.resolveFn,c.state,a);g.resolve(b)}catch(d){g.reject(d)}return c.promise}).then(function(a){return c.data=a,b.trace&&e.trace.traceResolvableResolved(c,b),c.promise})},a.prototype.get=function(a,b){return this.promise||this.resolveResolvable(a,b)},a.prototype.resolve=function(a,b){return this.resolveResolvable(a,b)},a.prototype.toString=function(){return"Resolvable(name: "+this.name+", state: "+this.state.name+", requires: ["+this.deps+"])"},a}();b["default"]=g},function(a,b,c){function d(a){return f.is(j.TransitionRejection)(a.reason)?a.reason.toString():"Promise("+JSON.stringify(a)+")"}function e(a){var b=a.name?a.name:"(anonymous)";return"function "+b+"(...)"}var f=c(3),g=c(3),h=c(6),i=c(8),j=c(5),k=function(){function a(){this.approximateDigests=0}return a.prototype._trace=function(a){console.log(a)},a.prototype._replacer=function(a,b){return this.format(b)},a.prototype._toJson=function(a){var b=this;return JSON.stringify(a,function(a,c){return b._replacer(a,c)})},a.prototype._stringify=function(a){return this.format=f.pattern([[f.not(g.isDefined),f.val("undefined")],[f.isNull,f.val("null")],[f.isPromise,d],[f.is(i.Transition),f.invoke("toString")],[f.is(h["default"]),f.invoke("toString")],[g.isFunction,e],[f.val(!0),g.identity]]),this._toJson(a)},a.prototype.traceTransitionStart=function(a){var b=a.$id,c=this.approximateDigests,d=this._stringify(a);this._trace("Transition #"+b+" Digest #"+c+": Started "+d)},a.prototype.traceTransitionIgnored=function(a){var b=a.$id,c=this.approximateDigests,d=this._stringify(a);this._trace("Transition #"+b+" Digest #"+c+": Ignored "+d)},a.prototype.traceHookInvocation=function(a,b){var c=f.parse("transition.$id")(b),d=this.approximateDigests;this._trace("Transition #"+c+" Digest #"+d+":   Hook -> "+a.toString())},a.prototype.traceHookResult=function(a,b,c){var d=f.parse("transition.$id")(c),e=this.approximateDigests,g=this._stringify(a),h=this._stringify(b);this._trace("Transition #"+d+" Digest #"+e+":   Hook <- returned: "+g+", transition result: "+h)},a.prototype.traceResolvePath=function(a,b){var c=f.parse("transition.$id")(b),d=this.approximateDigests,e=a&&a.toString(),g=b&&b.resolvePolicy;this._trace("Transition #"+c+" Digest #"+d+":         Resolving "+e+" ("+g+")")},a.prototype.traceResolvePathElement=function(a,b,c){var d=f.parse("transition.$id")(c),e=this.approximateDigests,g=f.objectKeys(b).join(", "),h=a&&a.toString(),i=c&&c.resolvePolicy;this._trace("Transition #"+d+" Digest #"+e+":         Resolve "+h+" resolvables: ["+g+"] ("+i+")")},a.prototype.traceResolveResolvable=function(a,b){var c=f.parse("transition.$id")(b),d=this.approximateDigests,e=a&&a.toString();this._trace("Transition #"+c+" Digest #"+d+":               Resolving -> "+e)},a.prototype.traceResolvableResolved=function(a,b){var c=f.parse("transition.$id")(b),d=this.approximateDigests,e=a&&a.toString();b&&b.resolvePolicy;this._trace("Transition #"+c+" Digest #"+d+":               Resolved  <- "+e+" to: "+a.data)},a.prototype.tracePathElementInvoke=function(a,b,c,d){var e="Invoke "+d.when,g=f.parse("transition.$id")(d),h=this.approximateDigests,i=a&&a.toString(),j=b.name||"(anonymous)";d&&d.resolvePolicy;this._trace("Transition #"+g+" Digest #"+h+":         "+e+": "+j+" "+i+" requires: ["+c+"]")},a.prototype.traceError=function(a,b){var c=b.$id,d=this.approximateDigests;this._trace("Transition #"+c+" Digest #"+d+": Transition Rejected, reason: "+a)},a.prototype.traceSuccess=function(a,b){var c=b.$id,d=this.approximateDigests,e=a.name;this._trace("Transition #"+c+" Digest #"+d+": Transition Success, state: "+e)},a}();b.trace=new k,angular.module("ui.router").run(function(a){a.$watch(function(){b.trace.approximateDigests++})})},function(a,b,c){"use strict";var d=c(2),e=c(7),f=c(9),g=c(10),h=c(11),i=c(13),j=c(12),k=c(5),l=c(14),m=c(20),n=c(3),o=0,p=new k.RejectFactory,q=function(){function a(a,b,c){this.$id=o++,this._from=a,this._to=b,this._options=n.extend({current:n.val(this)},c),this._deferreds={prehooks:d.runtime.$q.defer(),posthooks:d.runtime.$q.defer(),redirects:d.runtime.$q.defer()};var e=a.$state(),f=b.$state();this._fromPath=new i["default"](e.path);var g=n.extend(new l.StateParams,a.params()),h=c.inherit&&f?g.$inherit(b.params(),e,f):b.params();h=f?n.extend(new l.StateParams,f.params.$$values(h)):h,this._to=h&&b.params(h)||b,this._treeChanges=this._calcTreeChanges(h,g),this.promise=this._deferreds.posthooks.promise,this.prepromise=this._deferreds.prehooks.promise,this.redirects=this._deferreds.redirects.promise}return a.prototype._calcTreeChanges=function(a,b){function c(a){return a.params.$$filter(n.not(n.prop("dynamic")))}var d,e=0,f=this._to.$state(),g=this._from.$state();if(this._to.valid())for(d=f.path[e];d&&d===g.path[e]&&d!==this._options.reloadState&&c(d).$$equals(a,b);)e++,d=f.path[e];var h=this._fromPath,j=h.slice(0,e),k=h.slice(e),l=this._to.valid()?new i["default"](f.path).slice(e):new i["default"]([]),m=j.concat(l);return{from:h,to:m,retained:j,exiting:k,entering:l}},a.prototype.$from=function(){return this._from},a.prototype.$to=function(){return this._to},a.prototype.from=function(){return this._from.identifier()},a.prototype.to=function(){return this._to.identifier()},a.prototype.is=function(b){return b instanceof a?this.is({to:b.$to().$state().name,from:b.$from.$state().name}):!(b.to&&!f.matchState(this.$to().$state(),b.to)||b.from&&!f.matchState(this.$from().$state(),b.from))},a.prototype.params=function(){return this._to.params()},a.prototype.previous=function(){return this._options.previous||null},a.prototype.options=function(){return this._options},a.prototype.entering=function(){var a=this._treeChanges.entering;return n.pluck(a.elements,"state")},a.prototype.exiting=function(){var a=this._treeChanges.exiting,b=n.pluck(a.elements,"state");return b.reverse(),b},a.prototype.retained=function(){var a=this._treeChanges.retained;return n.pluck(a.elements,"state")},a.prototype.context=function(a){return new m.ViewContext(a,this._treeChanges.to,this._options,d.runtime.$injector)},a.prototype.views=function(a){var b=this;return a=a||this._treeChanges.entering.states(),n.unnest(n.map(a,function(a){var c=b._treeChanges.to.elementForState(a),d=n.unroll(function(a){return[b.context(c),a,b._to.params()]});return d(a.views)}))},a.prototype.redirect=function(b,c){return new a(this._from,b,n.extend(c||this.options(),{previous:this}))},a.prototype.ignored=function(){return!this._options.reload&&this._to.$state()===this._from.$state()&&this._to.$state().params.$$filter(n.not(n.prop("dynamic"))).$$equals(this._to.params(),this._from.params())},a.prototype.run=function(){this._options.trace&&e.trace.traceTransitionStart(this);var a={trace:this._options.trace,transition:this,current:this._options.current},b=new h["default"](f.$transition,this,a);if(this.ignored()){this._options.trace&&e.trace.traceTransitionIgnored(this),f.$transition.transition=null;var c=p.ignored();return n.forEach(this._deferreds,function(a){return a.reject(c.reason)}),c}f.$transition.transition=this;var d=this._treeChanges,k=d.entering,l=d.exiting,m=d.to,o=d.from,q=this._to.$state(),r=this._from.$state(),s=this._from.params(),t=(this._options,{$transition$:this}),u=new j["default"](this._from.$state().root().self),v=new i["default"]([u]),w=l.slice(0).reverse().elements,x=k.elements,y=b.makeSteps("onBefore",q,r,u,t,v,{async:!1}),z=b.makeSteps("onInvalid",q,r,u,t,v),A=b.makeSteps("onStart",q,r,u,t,v),B=b.makeSteps("on",q,r,u,t,v),C=n.map(w,function(c){var d={$state$:c.state,$stateParams:c.state.params.$$values(s)},e=n.extend({},t,d),f=b.makeSteps("exiting",q,c.state,c,e,o);return c.state.self.onExit?f.concat([new g["default"](c,c.state.self.onExit,e,o,a)]):f}),D=n.map(x,function(c){var d={$state$:c.state,$stateParams:c.state.params.$$values(s)},e=n.extend({},t,d),f=b.makeLazyResolvePathElementStep(m,c,e),h=[f].concat(b.makeSteps("entering",c.state,r,c,e,m));return c.state.self.onEnter?h.concat([new g["default"](c,c.state.self.onEnter,e,m,a)]):h}),E=b.makeEagerResolvePathStep(m,t),F=this.$to().valid()?A:z,G=n.filter(n.flatten([F,B,E,C,D]),n.identity),H=b.runSynchronousHooks(y);return n.forEach(G,function(a){H=H.then(a.invokeStep)}),H=H.then(b.successHooks())["catch"](b.errorHooks()),this.promise},a.prototype.isActive=function(){return n.isEq(this._options.current,n.val(this))()},a.prototype.abort=function(){this.isActive()&&(f.$transition.transition=null)},a.prototype.toString=function(){var a=this.from(),b=this.to(),c=this.$id,d=n.isObject(a)?a.name:a,e=n.toJson(this.$from().params()),f=this.$to().valid()?"":"(X) ",g=n.isObject(b)?b.name:b,h=n.toJson(this.params());return"Transition#"+c+"( '"+d+"'"+e+" -> "+f+"'"+g+"'"+h+" )"},a}();b.Transition=q},function(a,b,c){function d(a,b){function c(a){for(var b=0;b<d.length;b++){var c=g.Glob.fromString(d[b]);if(c&&c.matches(a.name)||!c&&d[b]===a.name)return!0}return!1}var d=h.isString(b)?[b]:b;return!!(h.isFunction(d)?d:c)(a)}function e(){function a(a){return function(b,d,e){e=e||{};var f=new c(b,d,e),g=i[a];return g.push(f),g.sort(function(a,b){return a.priority-b.priority}),function(){var a=g.indexOf(f);-1!=a&&g.splice(a,1)}}}function c(a,b,c){a=h.extend({to:h.val(!0),from:h.val(!0)},a),this.callback=b,this.priority=c.priority||0,this.matches=function(b,c){return d(b,a.to)&&d(c,a.from)}}function g(a,c){return e.prototype.instance.on({},function(a){if(!a.$to().valid())throw new Error(a.$to().error())}),b.$transition.create=function(a,b,c){return new f.Transition(a,b,c||{})},b.$transition.isTransition=h.is(f.Transition),b.$transition.provider=e.prototype.instance,b.$transition.$$hooks=function(a){return[].concat(i[a])},b.$transition}e.prototype.instance=this;var i={onBefore:[],onInvalid:[],onStart:[],on:[],entering:[],exiting:[],onSuccess:[],onError:[]};this.onBefore=a("onBefore"),this.onInvalid=a("onInvalid"),this.onStart=a("onStart"),this.on=a("on"),this.entering=a("entering"),this.exiting=a("exiting"),this.onSuccess=a("onSuccess"),this.onError=a("onError"),this.$get=g,g.$inject=["$q","$injector"]}var f=c(8),g=c(4),h=c(3);b.defaultTransOpts={location:!0,relative:null,inherit:!1,notify:!0,reload:!1,trace:!1,custom:{},current:function(){return null}},b.matchState=d,b.$transition={},e.$inject=[],angular.module("ui.router.state").provider("$transition",e)},function(a,b,c){var d=c(3),e=c(7),f=c(5),g=c(8),h=c(6),i=new f.RejectFactory,j=function(){function a(a,b,c,f,h){var j=this;this.mapHookResult=function(a){return d.pattern([[d.not(d.isEq(j.options.current,d.val(j.options.transition))),d.pipe(j.options.current,i.superseded.bind(i))],[d.eq(!1),d.val(i.aborted("Hook aborted transition"))],[d.is(g.Transition),i.redirected.bind(i)],[d.isPromise,function(a){return a.then(j.handleHookResult.bind(j))}],[d.isObject,function(a){return j.pathElement.addResolvables(j.mapNewResolves(a))}]])(a)},this.invokeStep=function(){var a=j,b=a.options,c=a.fn,d=a.locals,f=a.pathContext,g=a.pathElement;return b.trace&&e.trace.traceHookInvocation(j,b),b.rejectIfSuperseded&&b.transition!==b.current()?i.superseded(b.current()):b.async?g.invokeLater(c,d,f,b).then(j.handleHookResult.bind(j)):j.handleHookResult(g.invokeNow(c,d,f))},this.options=d.defaults(h,{async:!0,rejectIfSuperseded:!0,current:d.noop,transition:null,trace:!1,data:{}}),this.pathElement=a,this.fn=b,this.locals=c,this.pathContext=f,this.async=h.async,this.rejectIfSuperseded=h.rejectIfSuperseded,this.state=a.state,this.data=h.data}return a.prototype.mapNewResolves=function(a){var b=this,c=d.filter(a,d.not(d.isFunction)),e=d.objectKeys(c);if(e.length)throw new Error("Invalid resolve key/value: ${keys[0]}/${invalid[keys[0]]}");return d.map(a,function(a,c){return new h["default"](c,a,b.pathElement.state)})},a.prototype.handleHookResult=function(a){var b=this.mapHookResult(a);return this.options.trace&&e.trace.traceHookResult(a,b,this.options),b},a.prototype.toString=function(){var a=this,b=a.options,c=a.fn,e=a.pathContext,f=d.parse("data.eventType")(b)||"internal",g=c.name||"(anonymous)",h=d.parse("data.from.name")(b),i=d.parse("data.to.name")(b);d.parse("data.pathElement.state.name")(b);return"Step "+f+" (fn: '"+g+"', match:{from: '"+h+"', to: '"+i+"'}, "+e.toString()+")"},a}();b["default"]=j},function(a,b,c){var d=c(3),e=c(2),f=c(7),g=c(12),h=c(13),i=c(10),j=function(){function a(a,b,c){this.successErrorOptions={async:!1,rejectIfSuperseded:!1},this.$transition=a,this.transition=b,this.baseHookOptions=c,this.to=b._to.$state(),this.from=b._from.$state(),this.transitionOptions=b.options(),this.rootPE=new g["default"](b._from.$state().root().self),this.tLocals={$transition$:b},this.rootPath=new h["default"]([this.rootPE])}return a.prototype.runSynchronousHooks=function(a,b){void 0===b&&(b=!1);for(var c=[],f=0;f<a.length;f++)try{var g=a[f].invokeStep();g&&d.isPromise(g)&&c.push(g)}catch(h){if(!b)throw h;console.log("Swallowed exception during synchronous hook handler: "+h)}return c.reduce(function(a,b){return a.then(function(){return b})},e.runtime.$q.when(!0))},a.prototype.makeSteps=function(a,b,c,e,f,g,h){var j={eventType:a,to:b,from:c,pathElement:e,locals:f,pathContext:g};h=d.extend(h||{},this.baseHookOptions,{data:j});var k=this.$transition.$$hooks(a);return d.map(d.filter(k,d.invoke("matches",[b,c])),function(a){return new i["default"](e,a.callback,f,g,h)})},a.prototype.makeEagerResolvePathStep=function(a,b){function c(){return a.resolvePath(e)}if(!a.elements.length)return null;var e=d.extend({resolvePolicy:"eager"},this.baseHookOptions);return new i["default"](a.last(),c,b,a,e)},a.prototype.makeLazyResolvePathElementStep=function(a,b,c){function e(){return b.resolvePathElement(a,f)}var f=d.extend({resolvePolicy:"lazy"},this.baseHookOptions);return new i["default"](b,e,c,a,f)},a.prototype.successHooks=function(){var a=this,b=this,c=b.transition,d=b.transitionOptions,e=b.to,g=b.from,h=b.rootPE,i=b.tLocals,j=b.rootPath,k=b.successErrorOptions;return function(){var b=c.$to().state();d.trace&&f.trace.traceSuccess(b,c),c._deferreds.prehooks.resolve(b);var l=a.makeSteps("onSuccess",e,g,h,i,j,k);a.runSynchronousHooks(l,!0),c._deferreds.posthooks.resolve(b)}},a.prototype.errorHooks=function(){var a=this,b=this,c=b.transition,e=b.transitionOptions,g=b.to,h=b.from,i=b.rootPE,j=b.tLocals,k=b.rootPath,l=b.successErrorOptions;return function(b){e.trace&&f.trace.traceError(b,c),c._deferreds.prehooks.reject(b);var m=d.extend({},j,{$error$:b}),n=a.makeSteps("onError",g,h,i,m,k,l);a.runSynchronousHooks(n,!0),c._deferreds.posthooks.reject(b)}},a}();b["default"]=j},function(a,b,c){var d=c(3),e=c(7),f=c(13),g=c(6),h=c(2),i={eager:3,lazy:2,jit:1},j="jit",k=function(){function a(a){this.state=a,this._resolvables=d.map(a.resolve||{},function(b,c){return new g["default"](c,b,a)})}return a.prototype.getResolvables=function(){return this._resolvables},a.prototype.addResolvables=function(a){return d.extend(this._resolvables,a)},a.prototype.resolvePathElement=function(a,b){b=b||{};var c=i[b&&b.resolvePolicy||j],g={$$state:d.isString(this.state.resolvePolicy)?this.state.resolvePolicy:j,$$resolves:d.isObject(this.state.resolvePolicy)?this.state.resolvePolicy:j},k=[this],l=new f["default"](k).getResolvables();d.forEach(l,function(a){var b=g.$$resolves[a.name]||g.$$state;g[a.name]=i[b]});var m=function(a){return g[a.name]>=c},n=function(c){return c.get(a,b)},o=d.filter(l,m);b.trace&&e.trace.traceResolvePathElement(this,o,b);var p=d.map(o,n);return h.runtime.$q.all(p).then(d.noop)},a.prototype.invokeLater=function(a,b,c,f){var g=this;f=f||{};var i=h.runtime.$injector.annotate(a),j=d.pick(c.pathFromRoot(this).getResolvables(),i);f.trace&&e.trace.tracePathElementInvoke(this,a,i,d.extend({when:"Later"},f));var k=d.map(j,function(a){return a.get(c,f)});return h.runtime.$q.all(k).then(function(){try{return g.invokeNow(a,b,c,f)}catch(d){return h.runtime.$q.reject(d)}})},a.prototype.invokeNow=function(a,b,c,f){void 0===f&&(f={});var g=h.runtime.$injector.annotate(a),i=d.pick(c.pathFromRoot(this).getResolvables(),g);f.trace&&e.trace.tracePathElementInvoke(this,a,h.runtime.$injector.annotate(a),d.extend({when:"Now  "},f));var j=d.map(i,function(a){return a.data}),k=d.extend({},b,j);return h.runtime.$injector.invoke(a,this.state,k)},a.prototype.toString=function(){var a=d.parse("state.name")(this)||"(root)";return"PathElement("+a+")"},a}();b["default"]=k},function(a,b,c){var d=c(3),e=c(3),f=c(7),g=c(2),h=c(12),i=function(){function a(a){if(!d.isArray(a))throw new Error("states must be an array of state(s) or PathElement(s): ${statesOrPathElements}");var b=a.length&&a[0]instanceof h["default"],c=b?d.identity:function(a){return new h["default"](a)};this.elements=e.map(a,c)}return a.prototype.resolvePath=function(a){var b=this;a=a||{},a.trace&&f.trace.traceResolvePath(this,a);var c=function(c){return c.resolvePathElement(b,a)};return g.runtime.$q.all(e.map(this.elements,c)).then(d.noop)},a.prototype.resolve=function(a){return this.resolvePath(a)},a.prototype.getResolvables=function(a){a=e.defaults(a,{omitOwnLocals:[]});var b=this.last();return this.elements.reduce(function(c,f){var g=f===b?a.omitOwnLocals:[],h=e.omit.apply(null,[f.getResolvables()].concat(g));return d.extend(c,h)},{})},a.prototype.clone=function(){throw new Error("Clone not yet implemented")},a.prototype.pathFromRoot=function(a){var b=this.elements.indexOf(a);if(-1==b)throw new Error("This Path does not contain the toPathElement");return this.slice(0,b+1)},a.prototype.concat=function(b){return new a(this.elements.concat(b.elements))},a.prototype.slice=function(b,c){return new a(this.elements.slice(b,c))},a.prototype.reverse=function(){return this.elements.reverse(),this},a.prototype.states=function(){return e.pluck(this.elements,"state")},a.prototype.elementForState=function(a){return e.find(this.elements,e.pipe(e.prop("state"),e.eq(a)))},a.prototype.last=function(){return this.elements.length?this.elements[this.elements.length-1]:null},a.prototype.toString=function(){var a=this.elements.map(function(a){return a.state.name}).join(", ");return"Path(["+a+"])"},a}();b["default"]=i},function(a,b,c){function d(a,b,c,d){var e=[],f=k.extend(this,{register:function(b,c){var h=k.inherit(new g,k.extend({},b,{self:b,resolve:b.resolve||{},toString:function(){return this.name}}));if(!m.isString(h.name))throw new Error("State must have a valid name");if(a.hasOwnProperty(h.name)||-1!==k.pluck(e,"name").indexOf(h.name))throw new Error("State '"+h.name+"' is already defined");return e[c?"unshift":"push"](h),f.autoFlush&&f.flush(d),h},flush:function(c){for(var d,f,g,h=[],i={};e.length>0;)if(f=e.shift(),d=b.build(f),g=h.indexOf(f),d){if(a.hasOwnProperty(f.name))throw new Error("State '"+name+"' is already defined");a[f.name]=f,this.attachRoute(c,f),g>=0&&h.splice(g,1)}else{var j=i[f.name];if(i[f.name]=e.length,g>=0&&j===e.length)throw new Error("Cannot register orphaned state '"+f.name+"'");0>g&&h.push(f),e.push(f)}return a},autoFlush:!1,attachRoute:function(a,b){!b[k.abstractKey]&&b.url&&c.when(b.url,["$match","$stateParams",function(c,d){a.$current.navigable==b&&k.equalForKeys(c,d)||a.transitionTo(b,c,{inherit:!0,location:!1})}])}})}function e(a,b,c){var d=this,e={parent:function(a){return b.find(d.parentName(a))},data:function(a){return a.parent&&a.parent.data&&(a.data=a.self.data=k.extend({},a.parent.data,a.data)),a.data},url:function(b){var d=b.url,e={params:b.params||{}},f=b.parent;if(m.isString(d))return"^"==d.charAt(0)?c.compile(d.substring(1),e):(f&&f.navigable||a()).url.concat(d,e);if(!d||c.isMatcher(d))return d;throw new Error("Invalid url '"+d+"' in state '"+b+"'")},navigable:function(a){return!a["abstract"]&&a.url?a:a.parent?a.parent.navigable:null},ownParams:function(a){var b=a.url&&a.url.params||new r.ParamSet;return k.forEach(a.params||{},function(a,c){b[c]||(b[c]=new q.Param(c,null,a,"config"))}),a.reloadOnSearch===!1&&k.forEach(b,function(a){a&&"search"===a.location&&(a.dynamic=!0)}),b},params:function(a){var b=a.parent&&a.parent.params?a.parent.params.$$new():new r.ParamSet;return k.extend(b,a.ownParams)},views:function(a){var b={},c=["templateProvider","templateUrl","template","notify","async"],d=["controller","controllerProvider","controllerAs"],e=c.concat(d);return k.forEach(a.views||{$default:k.pick(a,e)},function(c,e){k.forEach(d,function(b){a[b]&&!c[b]&&(c[b]=a[b])}),k.objectKeys(c).length>0&&(b[e]=c)}),b},path:function(a){return a.parent?a.parent.path.concat(a):[]},includes:function(a){var b=a.parent?k.extend({},a.parent.includes):{};return b[a.name]=!0,b}};k.extend(this,{builder:function(a,b){function c(a,b){return e[a].length?(e[a].splice(e[a].indexOf(b,1)),void(1===e[a].length&&(e[a]=e[a][0]))):void delete e[a]}function d(a,b){return e[a]?(m.isArray(e[a])||(e[a]=[e[a]]),e[a].push(b),function(){c(a,b)}):(e[a]=b,function(){c(a,b)})}if(m.isString(a)&&!m.isDefined(b))return e[a];if(m.isFunction(b)&&m.isString(a))return d(a,b)},build:function(a){var c=this.parentName(a);if(c&&!b.find(c))return null;for(var d in e){var f=m.isArray(e[d])?e[d].reverse():[e[d]],g=function(b,c){return c(a,b)};a[d]=f.reduce(g,k.noop)}return a},parentName:function(a){var b=a.name||"";return-1!==b.indexOf(".")?b.substring(0,b.lastIndexOf(".")):a.parent?m.isString(a.parent)?a.parent:a.parent.name:""},name:function(a){var b=a.name;if(-1!==b.indexOf(".")||!a.parent)return b;var c=m.isString(a.parent)?a.parent:a.parent.name;return c?c+"."+b:b}})}function f(a){k.extend(this,{isRelative:function(a){return a=a||"",0===a.indexOf(".")||0===a.indexOf("^")},find:function(b,c){if(!b&&""!==b)return void 0;var d=m.isString(b),e=d?b:b.name;this.isRelative(e)&&(e=this.resolvePath(e,c));var f=a[e];return!f||!d&&(d||f!==b&&f.self!==b)?void 0:f},reference:function(a,b,c){return new s(a,this.find(a,b),c,b)},resolvePath:function(a,b){if(!b)throw new Error("No reference point given for path '"+a+"'");b=this.find(b);for(var c=a.split("."),d=0,e=c.length,f=b;e>d;d++)if(""!==c[d]||0!==d){if("^"!==c[d])break;if(!f.parent)throw new Error("Path '"+a+"' not valid for state '"+b.name+"'");f=f.parent}else f=b;return c=c.slice(d).join("."),f.name+(f.name&&c?".":"")+c}})}function g(a){k.extend(this,a)}function h(a,b){function c(a,b){return u.builder(a,b)||this}function g(a,b){return m.isObject(a)?b=a:b.name=a,v.register(b),this}function h(a,b,c,d,e,f,g,h){return j=v.register({name:"",url:"^",views:null,params:{"#":{value:null,type:"hash"}},"abstract":!0},!0),j.navigable=null,k.extend(r,{params:new i,current:j.self,$current:j,transition:null}),v.flush(r),v.autoFlush=!0,r.reload=function(a){var b=m.isDefined(a)?a:!0;return r.transitionTo(r.current,e,{reload:b,inherit:!1,notify:!1})},r.go=function(a,b,c){var d={relative:r.$current,inherit:!0};return r.transitionTo(a,b,k.defaults(c,d,p.defaultTransOpts))},r.redirect=function(a){return{to:function(b,c,d){return a.redirect(s.reference(b,null,c),d)}}},r.transitionTo=function(a,c,h){if(h=k.defaults(h,p.defaultTransOpts),m.isObject(h.reload)&&!h.reload.name)throw new Error("Invalid reload state object");if(h.reloadState=h.reload===!0?r.$current.path[0]:s.find(h.reload,h.relative),
h.reload&&!h.reloadState)throw new Error("No such reload state '"+(m.isString(h.reload)?h.reload:h.reload.name)+"'");var i=w.push(g.create(s.reference(r.current,null,k.extend({},e)),s.reference(a,h&&h.relative,c),k.extend(h,{current:w.last.bind(w)}))),j={runTransition:function(a){function b(){return j.transitionSuccess(a)}function c(a){return j.transitionFailure(a)}return a.run(),a.prepromise.then(b,c)},transitionSuccess:function(a){return d.sync(a.views()),a.exiting().forEach(function(a){k.forEach(a.views,function(b,c){var e=d.find(c,a.parent);e&&d.reset(e)})}),r.$current=a.$to().$state(),r.current=a.$to().state(),j.updateStateParams(a),w.clear(),a},transitionFailure:function(a){return a instanceof o.TransitionRejection?a.type===o.RejectType.IGNORED?(r.$current.params.$$filter(l.not(l.not(l.prop("dynamic")))).$$equals(e,i.params())||j.updateStateParams(i),r.current):a.type===o.RejectType.SUPERSEDED&&a.redirected&&a.detail&&m.isFunction(a.detail.run)?(w.push(a.detail),j.runTransition(a.detail)):b.reject(a):b.reject(a)},updateStateParams:function(a){var b=a.options();r.params=a.params(),k.copy(r.params,e),e.$sync().$off(),b.location&&r.$current.navigable&&f.push(r.$current.navigable.url,e,{replace:"replace"===b.location}),f.update(!0)}},n=j.runTransition(i);return n["finally"](l.pipe(l.val(i),w.pop.bind(w))),k.extend(n.then(k.identity),{transition:i})},r.is=function(a,b,c){c=k.defaults(c,{relative:r.$current});var d=s.find(a,c.relative);return m.isDefined(d)?r.$current!==d?!1:m.isDefined(b)&&null!==b?d.params.$$equals(e,b):!0:void 0},r.includes=function(a,b,c){c=k.defaults(c,{relative:r.$current});var d=m.isString(a)&&n.Glob.fromString(a);if(d){if(!d.matches(r.$current.name))return!1;a=r.$current.name}var f=s.find(a,c.relative),g=r.$current.includes;return m.isDefined(f)?m.isDefined(g[f.name])?b?k.equalForKeys(f.params.$$values(b),e,k.objectKeys(b)):!0:!1:void 0},r.href=function(a,b,c){var d={lossy:!0,inherit:!0,absolute:!1,relative:r.$current};c=k.defaults(c,d);var g=s.find(a,c.relative);if(!m.isDefined(g))return null;c.inherit&&(b=e.$inherit(b||{},r.$current,g));var h=g&&c.lossy?g.navigable:g;return h&&void 0!==h.url&&null!==h.url?f.href(h.url,g.params.$$values(b),{absolute:c.absolute}):null},r.get=function(a,b){return 0===arguments.length?k.objectKeys(q).map(function(a){return q[a].self}):(s.find(a,b||r.$current)||{}).self||null},r}var j,q={},r=function(){},s=new f(q),u=new e(function(){return j},s,b),v=new d(q,u,a,r),w=new t;this.decorator=c,this.state=g,this.$get=h,h.$inject=["$rootScope","$q","$injector","$view","$stateParams","$urlRouter","$transition","$urlMatcherFactory"]}function i(){}function j(){function a(){function a(a,b){return function(){k.forEach(a.split(" "),function(a){c[a].splice(c[a].indexOf(b),1)})}}function b(a,b){c[a]&&c[a].length&&k.forEach(c[a],function(a){a(b)})}var c={},d={};return i.prototype.$digest=function(){k.forEach(this,function(a,c){a!=d[c]&&this.hasOwnProperty(c)&&(d[c]=a,b(c,a))},this)},i.prototype.$inherit=function(a,b,c){var d,e=k.ancestors(b,c),f={},g=[];for(var h in e)if(e[h].params&&(d=k.objectKeys(e[h].params),d.length))for(var i in d)k.arraySearch(g,d[i])>=0||(g.push(d[i]),f[d[i]]=this[d[i]]);return k.extend({},f,a)},i.prototype.$set=function(a,c){var d=!1,e=!1;return c&&k.forEach(a,function(a,b){(c.parameters(b)||{}).dynamic!==!0&&(e=!0)}),e?!1:(k.forEach(a,function(a,c){a!=this[c]&&(this[c]=a,b(c),d=!0)},this),this.$sync(),d)},i.prototype.$sync=function(){return k.copy(this,d),this},i.prototype.$off=function(){return c={},this},i.prototype.$raw=function(){var a={};for(var b in this)i.prototype.hasOwnProperty(b)||(a[b]=this[b]);return a},i.prototype.$localize=function(a,b){var c=new i;return b=b||this,k.forEach(a.params,function(a,d){c[d]=b[d]}),c},i.prototype.$observe=function(b,d){return k.forEach(b.split(" "),function(a){(c[a]||(c[a]=[])).push(d)}),a(b,d)},new i}function b(a){return a.$watch(function(){c.$digest()}),c}var c=a();this.$get=b,b.$inject=["$rootScope"]}var k=c(3),l=c(3),m=c(3),n=c(4),o=c(5),p=c(9),q=c(15),r=c(19);b.StateQueueManager=d,b.StateBuilder=e,b.StateMatcher=f,g.prototype.is=function(a){return this===a||this.self===a||this.fqn()===a},g.prototype.fqn=function(){if(!(this.parent&&this.parent instanceof this.constructor))return this.name;var a=this.parent.fqn();return a?a+"."+this.name:this.name},g.prototype.root=function(){for(var a=this;a.parent;)a=a.parent;return a};var s=function(){function a(a,b,c,d){this._identifier=a,this._definition=b,this._params=c,this._base=d}return a.prototype.identifier=function(){return this._identifier},a.prototype.$state=function(){return this._definition},a.prototype.state=function(){return this._definition&&this._definition.self},a.prototype.params=function(b){return b?new a(this._identifier,this._definition,b,this._base):this._params},a.prototype.base=function(){return this._base},a.prototype.valid=function(){var a=this._definition;return!(!a||!a.self||a.self[k.abstractKey]||!a.params.$$validates(this._params))},a.prototype.error=function(){switch(!0){case!this._definition&&!!this._base:return"Could not resolve '"+this._identifier+"' from state '"+this._base+"'";case!this._definition:return"No such state '"+this._identifier+"'";case!this._definition.self:return"State '"+this._identifier+"' has an invalid definition";case this._definition.self[k.abstractKey]:return"Cannot transition to abstract state '"+this._identifier+"'"}},a}();b.StateReference=s;var t=function(){function a(){this._items=[]}return a.prototype.push=function(a){return this._items.push(a),a},a.prototype.clear=function(){var a=this._items;return this._items=[],a},a.prototype.size=function(){return this._items.length},a.prototype.pop=function(a){var b=this._items.indexOf(a);return b>-1&&this._items.splice(b,1)[0]},a.prototype.last=function(){return this._items[this._items.length-1]},a}();b.TransitionQueue=t,h.$inject=["$urlRouterProvider","$urlMatcherFactoryProvider"],b.StateParams=i,j.$inject=[],angular.module("ui.router.state").provider("$stateParams",j).provider("$state",h).run(["$state",function(a){}])},function(a,b,c){var d=c(3),e=c(2),f=c(16),g=c(17),h=c(18),i=function(){function a(a,b,c,e){function i(a){var b=["value","type","squash","array","dynamic"].filter(function(b){return(a||{}).hasOwnProperty(b)}),c=0===b.length;return c&&(a={value:a}),a.$$fn=d.isInjectable(a.value)?a.value:function(){return a.value},a}function j(b,c,d){if(b.type&&c)throw new Error("Param '"+a+"' has two type configurations.");return c?c:b.type?b.type instanceof h.Type?b.type:g.paramTypes.type(b.type):"config"===d?g.paramTypes.type("any"):g.paramTypes.type("string")}function k(){var b={array:"search"===e?"auto":!1},f=a.match(/\[\]$/)?{array:!0}:{};return d.extend(b,f,c).array}function l(a,b){var c=a.squash;if(!b||c===!1)return!1;if(!d.isDefined(c)||null==c)return f.matcherConfig.defaultSquashPolicy();if(c===!0||d.isString(c))return c;throw new Error("Invalid squash policy: '"+c+"'. Valid policies: false, true, or arbitrary string")}function m(a,b,c,e){var f,g,h=[{from:"",to:c||b?void 0:""},{from:null,to:c||b?void 0:""}];return f=d.isArray(a.replace)?a.replace:[],d.isString(e)&&f.push({from:e,to:void 0}),g=d.map(f,function(a){return a.from}),d.filter(h,function(a){return-1===d.indexOf(g,a.from)}).concat(f)}c=i(c),b=j(c,b,e);var n=k();b=n?b.$asArray(n,"search"===e):b;var o=void 0!==c.value,p=c.dynamic===!0,q=l(c,o),r=m(c,n,o,q);d.extend(this,{id:a,type:b,location:e,array:n,squash:q,replace:r,isOptional:o,dynamic:p,config:c})}return a.prototype.value=function(a){function b(a){return function(b){return b.from===a}}var c=this,f=function(){if(!e.runtime.$injector)throw new Error("Injectable functions cannot be called at configuration time");var a=e.runtime.$injector.invoke(c.config.$$fn);if(null!==a&&void 0!==a&&!c.type.is(a))throw new Error("Default value ("+a+") for parameter '"+c.id+"' is not an instance of Type ("+c.type.name+")");return a},g=function(a){var e=d.map(d.filter(c.replace,b(a)),function(a){return a.to});return e.length?e[0]:a};return a=g(a),d.isDefined(a)?this.type.$normalize(a):f()},a.prototype.toString=function(){return"{Param:"+this.id+" "+this.type+" squash: '"+this.squash+"' optional: "+this.isOptional+"}"},a}();b.Param=i},function(a,b,c){var d=c(3),e=function(){function a(){this._isCaseInsensitive=!1,this._isStrictMode=!1,this._defaultSquashPolicy=!1}return a.prototype.caseInsensitive=function(a){return d.isDefined(a)?this._isCaseInsensitive=a:this._isCaseInsensitive},a.prototype.strictMode=function(a){return d.isDefined(a)?this._isStrictMode=a:this._isStrictMode},a.prototype.defaultSquashPolicy=function(a){if(!d.isDefined(a))return this._defaultSquashPolicy;if(a!==!0&&a!==!1&&!d.isString(a))throw new Error("Invalid squash policy: "+a+". Valid policies: false, true, arbitrary-string");return this._defaultSquashPolicy=a},a}();b.matcherConfig=new e},function(a,b,c){function d(a){return null!=a?a.toString().replace(/\//g,"%2F"):a}function e(a){return null!=a?a.toString().replace(/%2F/g,"/"):a}var f=c(3),g=c(18),h=c(2),i=function(){function a(){this.enqueue=!0,this.typeQueue=[],this.defaultTypes={hash:{encode:d,decode:e,is:function(a){return"string"==typeof a},pattern:/.*/,equals:function(){return!0}},string:{encode:d,decode:e,is:function(a){return"string"==typeof a},pattern:/[^/]*/},"int":{encode:d,decode:function(a){return parseInt(a,10)},is:function(a){return f.isDefined(a)&&this.decode(a.toString())===a},pattern:/\d+/},bool:{encode:function(a){return a?1:0},decode:function(a){return 0!==parseInt(a,10)},is:function(a){return a===!0||a===!1},pattern:/0|1/},date:{encode:function(a){return this.is(a)?[a.getFullYear(),("0"+(a.getMonth()+1)).slice(-2),("0"+a.getDate()).slice(-2)].join("-"):void 0},decode:function(a){if(this.is(a))return a;var b=this.capture.exec(a);return b?new Date(b[1],b[2]-1,b[3]):void 0},is:function(a){return a instanceof Date&&!isNaN(a.valueOf())},equals:function(a,b){return this.is(a)&&this.is(b)&&a.toISOString()===b.toISOString()},pattern:/[0-9]{4}-(?:0[1-9]|1[0-2])-(?:0[1-9]|[1-2][0-9]|3[0-1])/,capture:/([0-9]{4})-(0[1-9]|1[0-2])-(0[1-9]|[1-2][0-9]|3[0-1])/},json:{encode:f.toJson,decode:f.fromJson,is:f.isObject,equals:f.equals,pattern:/[^/]*/},any:{encode:f.identity,decode:f.identity,equals:f.equals,pattern:/.*/}};var a=function(a,b){return new g.Type(f.extend({name:b},a))};this.types=f.inherit(f.map(this.defaultTypes,a),{})}return a.prototype.type=function(a,b,c){if(!f.isDefined(b))return this.types[a];if(this.types.hasOwnProperty(a))throw new Error("A type named '"+a+"' has already been defined.");return this.types[a]=new g.Type(f.extend({name:a},b)),c&&(this.typeQueue.push({name:a,def:c}),this.enqueue||this._flushTypeQueue()),this},a.prototype._flushTypeQueue=function(){for(;this.typeQueue.length;){var a=this.typeQueue.shift();if(a.pattern)throw new Error("You cannot override a type's .pattern at runtime.");f.extend(this.types[a.name],h.runtime.$injector.invoke(a.def))}},a}();b.paramTypes=new i},function(a,b,c){var d=c(3),e=function(){function a(a){d.extend(this,a)}return a.prototype.is=function(a,b){return!0},a.prototype.encode=function(a,b){return a},a.prototype.decode=function(a,b){return a},a.prototype.equals=function(a,b){return a==b},a.prototype.$subPattern=function(){var a=this.pattern.toString();return a.substr(1,a.length-2)},a.prototype.toString=function(){return"{Type:"+this.name+"}"},a.prototype.$normalize=function(a){return this.is(a)?a:this.decode(a)},a.prototype.$asArray=function(a,b){function c(a,b){function c(a,b){return function(){return a[b].apply(a,arguments)}}function e(a){return d.isArray(a)?a:d.isDefined(a)?[a]:[]}function f(a){switch(a.length){case 0:return void 0;case 1:return"auto"===b?a[0]:a;default:return a}}function g(a){return!a}function h(a,b){return function(c){c=e(c);var h=d.map(c,a);return b===!0?0===d.filter(h,g).length:f(h)}}function i(a){return function(b,c){var d=e(b),f=e(c);if(d.length!==f.length)return!1;for(var g=0;g<d.length;g++)if(!a(d[g],f[g]))return!1;return!0}}this.encode=h(c(a,"encode")),this.decode=h(c(a,"decode")),this.is=h(c(a,"is"),!0),this.equals=i(c(a,"equals")),this.pattern=a.pattern,this.$normalize=h(c(a,"$normalize")),this.name=a.name,this.$arrayMode=b}if(!a)return this;if("auto"===a&&!b)throw new Error("'auto' array mode is for query parameters only");return new c(this,a)},a}();b.Type=e,e.prototype.pattern=/.*/},function(a,b,c){var d=c(3),e=function(){function a(a){d.extend(this,a||{})}return a.prototype.$$new=function(a){var b=this;return d.inherit(d.inherit(this,{$$parent:function(){return b}}),a)},a.prototype.$$keys=function(){for(var b=[],c=[],e=this,f=d.objectKeys(a.prototype);e;)c.push(e),e=e.$$parent();return c.reverse(),d.forEach(c,function(a){d.forEach(d.objectKeys(a),function(a){-1===d.indexOf(b,a)&&-1===d.indexOf(f,a)&&b.push(a)})}),b},a.prototype.$$values=function(a){var b=this,c={};return d.forEach(this.$$keys(),function(d){c[d]=b[d].value(a&&a[d])}),c},a.prototype.$$equals=function(a,b){var c=!0,e=this;return d.forEach(e.$$keys(),function(d){var f=a&&a[d],g=b&&b[d];e[d].type.equals(f,g)||(c=!1)}),c},a.prototype.$$validates=function(a){var b,c,e,f,g,h=this.$$keys();for(a=a||{},b=0;b<h.length;b++)if(c=this[h[b]],e=a[h[b]],void 0!==e&&null!==e||!c.isOptional){if(f=c.type.$normalize(e),!c.type.is(f))return!1;if(g=c.type.encode(f),d.isString(g)&&!c.type.pattern.exec(g))return!1}return!0},a.prototype.$$filter=function(b){var c=this,e=new a;return d.forEach(this.$$keys(),function(a){b(c[a])&&(e[a]=c[a])}),e},a.prototype.$$parent=function(){return null},a}();b.ParamSet=e},function(a,b,c){var d=c(3),e=function(){function a(a,b,c,d){this.state=a.state,this._pathElement=a,this._path=b,this._options=c,this._injector=d}return a.prototype.invoke=function(a,b){return this._pathElement.invokeLater(a,b,this._path,this._options)},a.prototype.getLocalsFor=function(a){var b=function c(){var a=Array.prototype.slice.call(arguments);return d.zipObject(c.$inject,a)};return b.$inject=d.objectKeys(d.pick(this._pathElement.getResolvables(),this._injector.annotate(a))),this._pathElement.invokeLater(b,{},this._path,this._options)},a}();b.ViewContext=e},function(a,b,c){function d(a,b){var c,d=a.match(/^\s*({[^}]*})\s*$/);if(d&&(a=b+"("+d[1]+")"),c=a.replace(/\n/g," ").match(/^([^(]+?)\s*(\((.*)\))?$/),!c||4!==c.length)throw new Error("Invalid state ref '"+a+"'");return{state:c[1],paramExpr:c[3]||null}}function e(a){var b=a.parent().inheritedData("$uiView");return b&&b.context&&b.context.name?b.context:void 0}function f(a,b){return{restrict:"A",require:["?^uiSrefActive","?^uiSrefActiveEq"],link:function(c,f,g,j){var k=d(g.uiSref,a.current.name),l=null,m=e(f)||a.$current,n=null,o="A"===f.prop("tagName"),p="FORM"===f[0].nodeName,q=p?"action":"href",r=!0,s=c.$eval(g.uiSrefOpts),t={relative:m,inherit:!0},u=h.defaults(s,t,i.defaultTransOpts),v=function(b){if(b&&(l=h.copy(b)),r){n=a.href(k.state,l,u);var c=j[1]||j[0];return c&&c.$$addStateInfo(k.state,l),null===n?(r=!1,!1):void g.$set(q,n)}};k.paramExpr&&(c.$watch(k.paramExpr,function(a,b){a!==l&&v(a)},!0),l=h.copy(c.$eval(k.paramExpr))),v(),p||f.bind("click",function(c){var d=c.which||c.button;if(!(d>1||c.ctrlKey||c.metaKey||c.shiftKey||f.attr("target"))){var e=b(function(){a.go(k.state,l,u)});c.preventDefault();var g=o&&!n?1:0;c.preventDefault=function(){g--<=0&&b.cancel(e)}}})}}}function g(a,b,c){return{restrict:"A",controller:["$scope","$element","$attrs","$timeout","$transition",function(b,d,f,g,h){function i(){for(var a=0;a<p.length;a++)l(p[a].state,p[a].params)?j(d,n):k(d,n),m(p[a].state,p[a].params)?j(d,o):k(d,o)}function j(a,b){g(function(){a.addClass(b)})}function k(a,b){a.removeClass(b)}function l(b,c){return a.includes(b.name,c)}function m(b,c){return a.is(b.name,c)}var n,o,p=[];n=c(f.uiSrefActive||"",!1)(b),o=c(f.uiSrefActiveEq||"",!1)(b),this.$$addStateInfo=function(b,c){var f=a.get(b,e(d));p.push({state:f||{name:b},params:c}),i()};var q=function(a){a.promise.then(i)},r=h.provider.on({},q);b.$on("$destroy",r)}]}}var h=c(3),i=c(9);f.$inject=["$state","$timeout"],g.$inject=["$state","$stateParams","$interpolate"],angular.module("ui.router.state").directive("uiSref",f).directive("uiSrefActive",g).directive("uiSrefActiveEq",g)},function(a,b,c){function d(a,b,c,d){if(a.$to().valid()&&a.options().notify){var e=b.provider.enabledEvents();if(e.$stateChangeStart&&c.$broadcast("$stateChangeStart",a.to(),a.params(),a.from(),a.$from().params(),a).defaultPrevented)return e.$stateChangeCancel&&c.$broadcast("$stateChangeCancel",a.to(),a.params(),a.from(),a.$from().params(),a),d.update(),!1;e.$stateChangeSuccess&&a.promise.then(function(){c.$broadcast("$stateChangeSuccess",a.to(),g.extend(new i.StateParams,a.params()).$raw(),a.from(),g.extend(new i.StateParams,a.$from().params()).$raw())}),e.$stateChangeError&&a.promise["catch"](function(b){if(!b||b.type!=h.RejectType.SUPERSEDED&&b.type!=h.RejectType.ABORTED){var e=c.$broadcast("$stateChangeError",a.to(),g.extend(new i.StateParams,a.params()).$raw(),a.from(),g.extend(new i.StateParams,a.$from().params()).$raw(),b);e.defaultPrevented||d.update()}})}}function e(a,b,c,d){function e(){return b.redirect(a).to(h.to,h.toParams,g.extend({$isRetrying:!0},f))}if(!a.$to().valid()){var f=a.options(),h={to:a.to(),toParams:a.params(),options:f},i=c.$broadcast("$stateNotFound",h,a.from(),a.$from().params(),a);if((i.defaultPrevented||i.retry)&&d.update(),i.defaultPrevented)return!1;if(i.retry||b.get(h.to))return i.retry&&g.isFunction(i.retry.then)?i.retry.then(e):e();throw new Error(a.$to().error())}}function f(){f.prototype.instance=this;var a=!1,b={$stateNotFound:!1,$stateChangeStart:!1};this.enabledEvents=function(c){if(c&&a)throw new Error("Cannot enable events at runtime (use $stateEventsProvider");return"*"==c&&(c=["$stateChangeStart","$stateNotFound","$stateChangeSuccess","$stateChangeError"]),g.forEach(c||[],function(a){b[a]=!0}),b},this.$get=["$transition",function(c){return a=!0,b.$stateNotFound&&c.provider.onBefore({},e,{priority:1e3}),b.$stateChangeStart&&c.provider.onBefore({},d,{priority:1e3}),{provider:f.prototype.instance}}]}var g=c(3),h=c(5),i=c(14);d.$inject=["$transition$","$stateEvents","$rootScope","$urlRouter"],e.$inject=["$transition$","$state","$rootScope","$urlRouter"],f.$inject=[],angular.module("ui.router.state.events",["ui.router.state"]).provider("$stateEvents",f).run(["$stateEvents",function(a){}])},function(a,b){function c(a){return function(b){return a.is(b)}}function d(a){return function(b){return a.includes(b)}}c.$inject=["$state"],b.$IsStateFilter=c,d.$inject=["$state"],b.$IncludedByStateFilter=d,angular.module("ui.router.state").filter("isState",c).filter("includedByState",d)},function(a,b,c){function d(a,b){this.fromConfig=function(a,b,c){return e.isDefined(a.template)?this.fromString(a.template,b):e.isDefined(a.templateUrl)?this.fromUrl(a.templateUrl,b):e.isDefined(a.templateProvider)?this.fromProvider(a.templateProvider,b,c):null},this.fromString=function(a,b){return e.isFunction(a)?a(b):a},this.fromUrl=function(c,d){return e.isFunction(c)&&(c=c(d)),null==c?null:a.get(c,{cache:b,headers:{Accept:"text/html"}}).then(function(a){return a.data})},this.fromProvider=function(a,b,c){return c(a,{params:b})}}var e=c(3);d.$inject=["$http","$templateCache"],angular.module("ui.router.util").service("$templateFactory",d)},function(a,b,c){var d=c(3),e=c(16),f=c(17),g=c(19),h=c(15),i=function(){function a(a,b,c){function e(b,c,d,e){if(s.push(b),q[b])return q[b];if(!/^\w+(-+\w+)*(?:\[\])?$/.test(b))throw new Error("Invalid parameter name '"+b+"' in pattern '"+a+"'");if(r[b])throw new Error("Duplicate parameter name '"+b+"' in pattern '"+a+"'");return r[b]=new h.Param(b,c,d,e),r[b]}function i(a,b,c,d){var e=["",""],f=a.replace(/[\\\[\]\^$*+?.()|{}]/g,"\\$&");if(!b)return f;switch(c){case!1:e=["(",")"+(d?"?":"")];break;case!0:e=["?(",")?"];break;default:e=["("+c+"|",")?"]}return f+e[0]+b+e[1]}function j(c,e){var g,h,i,j,k;return g=c[2]||c[3],k=b.params[g],i=a.substring(o,c.index),h=e?c[4]:c[4]||("*"==c[1]?".*":null),j=f.paramTypes.type(h||"string")||d.inherit(f.paramTypes.type("string"),{pattern:new RegExp(h,b.caseInsensitive?"i":void 0)}),{id:g,regexp:h,segment:i,type:j,cfg:k}}b=d.extend({params:{}},d.isObject(b)?b:{});var k,l=/([:*])([\w\[\]]+)|\{([\w\[\]]+)(?:\:((?:[^{}\\]+|\\.|\{(?:[^{}\\]+|\\.)*\})+))?\}/g,m=/([:]?)([\w\[\]-]+)|\{([\w\[\]-]+)(?:\:((?:[^{}\\]+|\\.|\{(?:[^{}\\]+|\\.)*\})+))?\}/g,n="^",o=0,p=this.segments=[],q=c?c.params:{},r=this.params=c?c.params.$$new():new g.ParamSet,s=[];this.source=a;for(var t,u,v;(k=l.exec(a))&&(t=j(k,!1),!(t.segment.indexOf("?")>=0));)u=e(t.id,t.type,t.cfg,"path"),n+=i(t.segment,u.type.pattern.source,u.squash,u.isOptional),p.push(t.segment),o=l.lastIndex;v=a.substring(o);var w=v.indexOf("?");if(w>=0){var x=this.sourceSearch=v.substring(w);if(v=v.substring(0,w),this.sourcePath=a.substring(0,o+w),x.length>0)for(o=0;k=m.exec(x);)t=j(k,!0),u=e(t.id,t.type,t.cfg,"search"),o=l.lastIndex}else this.sourcePath=a,this.sourceSearch="";n+=i(v)+(b.strict===!1?"/?":"")+"$",p.push(v),this.regexp=new RegExp(n,b.caseInsensitive?"i":void 0),this.prefix=p[0],this.$$paramNames=s}return a.prototype.concat=function(b,c){var f={caseInsensitive:e.matcherConfig.caseInsensitive(),strict:e.matcherConfig.strictMode(),squash:e.matcherConfig.defaultSquashPolicy()};return new a(this.sourcePath+b+this.sourceSearch,d.extend(f,c),this)},a.prototype.toString=function(){return this.source},a.prototype.exec=function(a,b,c){function e(a){function b(a){return a.split("").reverse().join("")}function c(a){return a.replace(/\\-/g,"-")}var e=b(a).split(/-(?!\\)/),f=d.map(e,b);return d.map(f,c).reverse()}var f=this.regexp.exec(a);if(!f)return null;b=b||{};var g,h,i,j=this.parameters(),k=j.length,l=this.segments.length-1,m={};if(l!==f.length-1)throw new Error("Unbalanced capture group in route '"+this.source+"'");for(g=0;l>g;g++){i=j[g];var n=this.params[i],o=f[g+1];for(h=0;h<n.replace;h++)n.replace[h].from===o&&(o=n.replace[h].to);o&&n.array===!0&&(o=e(o)),m[i]=n.value(o)}for(;k>g;g++)i=j[g],m[i]=this.params[i].value(b[i]);return c&&(m["#"]=c),m},a.prototype.parameters=function(a){return d.isDefined(a)?this.params[a]||null:this.$$paramNames},a.prototype.validates=function(a){return this.params.$$validates(a)},a.prototype.format=function(a){function b(a){return encodeURIComponent(a).replace(/-/g,function(a){return"%5C%"+a.charCodeAt(0).toString(16).toUpperCase()})}a=a||{};var c=this.segments,e=this.parameters(),f=this.params;if(!this.validates(a))return null;var g,h=!1,i=c.length-1,j=e.length,k=c[0];for(g=0;j>g;g++){var l=i>g,m=e[g],n=f[m],o=n.value(a[m]),p=n.isOptional&&n.type.equals(n.value(),o),q=p?n.squash:!1,r=n.type.encode(o);if(l){var s=c[g+1];if(q===!1)null!=r&&(k+=d.isArray(r)?d.map(r,b).join("-"):encodeURIComponent(r)),k+=s;else if(q===!0){var t=k.match(/\/$/)?/\/?(.*)/:/(.*)/;k+=s.match(t)[1]}else d.isString(q)&&(k+=q+s)}else{if(null==r||p&&q!==!1)continue;d.isArray(r)||(r=[r]),r=d.map(r,encodeURIComponent).join("&"+m+"="),k+=(h?"&":"?")+(m+"="+r),h=!0}}return a["#"]&&(k+="#"+a["#"]),k},a}();b.UrlMatcher=i},function(a,b,c){function d(){function a(){return{strict:f.matcherConfig.strictMode(),caseInsensitive:f.matcherConfig.caseInsensitive()}}var b=this;this.caseInsensitive=function(a){return f.matcherConfig.caseInsensitive(a)},this.strictMode=function(a){return f.matcherConfig.strictMode(a)},this.defaultSquashPolicy=function(a){return f.matcherConfig.defaultSquashPolicy(a)},this.compile=function(b,c){return new g.UrlMatcher(b,e.extend(a(),c))},this.isMatcher=function(a){if(!e.isObject(a))return!1;var b=!0;return e.forEach(g.UrlMatcher.prototype,function(c,d){e.isFunction(c)&&(b=b&&e.isDefined(a[d])&&e.isFunction(a[d]))}),b},this.type=function(a,b,c){var d=j.paramTypes.type(a,b,c);return e.isDefined(b)?this:d},this.$get=function(){return j.paramTypes.enqueue=!1,j.paramTypes._flushTypeQueue(),b},this.UrlMatcher=g.UrlMatcher,this.Param=h.Param,this.ParamSet=i.ParamSet}var e=c(3),f=c(16),g=c(25),h=c(15),i=c(19),j=c(17);angular.module("ui.router.util").provider("$urlMatcherFactory",d),angular.module("ui.router.util").run(["$urlMatcherFactory",function(a){}])},function(a,b,c){function d(a,b){function c(a){var b=/^\^((?:\\[^a-zA-Z0-9]|[^\\\[\]\^$*+?.()|{}]+)*)/.exec(a.source);return null!=b?b[1].replace(/\\(.)/g,"$1"):""}function d(a,b){return a.replace(/\$(\$|\d{1,2})/,function(a,c){return b["$"===c?0:Number(c)]})}function f(a,b,c){if(!c)return!1;var d=a.invoke(b,b,{$match:c});return e.isDefined(d)?d:!0}function g(b,c,d,f){function g(a,b,c){var d=f.baseHref();return"/"===d?a:b?d.slice(0,-1)+a:c?d.slice(1)+a:a}function l(a){function c(a){var c=a(d,b);return c?(e.isString(c)&&b.replace().url(c),!0):!1}if(!a||!a.defaultPrevented){var f,g=i.length;for(f=0;g>f;f++)if(c(i[f]))return;j&&c(j)}}function m(){return h=h||c.$on("$locationChangeSuccess",l)}var n=b.url();return k||m(),{sync:function(){l()},listen:function(){return m()},update:function(a){return a?void(n=b.url()):void(b.url()!==n&&(b.url(n),b.replace()))},push:function(a,c,d){b.url(a.format(c||{})),d&&d.replace&&b.replace()},href:function(c,d,f){if(!c.validates(d))return null;var h=a.html5Mode();e.isObject(h)&&(h=h.enabled);var i=c.format(d);if(f=f||{},h||null===i||(i="#"+a.hashPrefix()+i),i=g(i,h,f.absolute),!f.absolute||!i)return i;var j=!h&&i?"/":"",k=b.port();return k=80===k||443===k?"":":"+k,[b.protocol(),"://",b.host(),k,j,i].join("")}}}var h,i=[],j=null,k=!1;this.rule=function(a){if(!e.isFunction(a))throw new Error("'rule' must be a function");return i.push(a),this},this.otherwise=function(a){if(e.isString(a)){var b=a;a=function(){return b}}else if(!e.isFunction(a))throw new Error("'rule' must be a function");return j=a,this},this.when=function(a,g){var h,i=e.isString(g);if(e.isString(a)&&(a=b.compile(a)),!i&&!e.isFunction(g)&&!e.isArray(g))throw new Error("invalid 'handler' in when()");var j={matcher:function(a,c){return i&&(h=b.compile(c),c=["$match",function(a){return h.format(a)}]),e.extend(function(b,d){return f(b,c,a.exec(d.path(),d.search(),d.hash()))},{prefix:e.isString(a.prefix)?a.prefix:""})},regex:function(a,b){if(a.global||a.sticky)throw new Error("when() RegExp must not be global or sticky");return i&&(h=b,b=["$match",function(a){return d(h,a)}]),e.extend(function(c,d){return f(c,b,a.exec(d.path()))},{prefix:c(a)})}},k={matcher:b.isMatcher(a),regex:a instanceof RegExp};for(var l in k)if(k[l])return this.rule(j[l](a,g));throw new Error("invalid 'what' in when()")},this.deferIntercept=function(a){void 0===a&&(a=!0),k=a},this.$get=g,g.$inject=["$location","$rootScope","$injector","$browser"]}var e=c(3);d.$inject=["$locationProvider","$urlMatcherFactoryProvider"],angular.module("ui.router.router").provider("$urlRouter",d)},function(a,b,c){function d(a,b,c){function d(a){return c[a instanceof Error?"reject":"when"](a)}var h={},i=new g(h);this.load=function(g,h){var j=new f(e.defaults(h,{template:void 0,templateUrl:void 0,templateProvider:void 0,controller:null,controllerAs:null,controllerProvider:null})),k=e.defaults(h,{context:null,parent:null,notify:!0,async:!0,params:{}});if(!j.hasTemplate())return d(new Error("No template configuration specified for "+g));k.notify&&a.$broadcast("$viewContentLoading",e.extend({targetView:g},k));var l=k.parent?this.find(g,k.parent):g,m={template:c.when(j.template(b,k.params,k.context)),controller:j.controller(k.context),viewName:l?c.when(l):i.waitFor(k.parent,c.defer()).then(function(a){return a+"."+g})};return c.all(m).then(function(a){var b={async:k.async,template:a.template,controller:a.controller,$context:k.context},c=i.push(a.viewName,k.async,e.extend(j,b));return d(c)})},this.reset=function(a){return h[a]?null===i.push(a,!1,null):!1},this.sync=function(a){e.forEach(a,function(a){var b=a[0],c=a[1],d=a[2];e.forEach(c,function(a,c){this.load(c,e.extend(a,{params:d,context:b,parent:b.state.parent.name?b.state.parent:null}))},this)},this)},this.register=function(a,b){return h[a]=b,h[a].$config=null,i.pop(a,b),function(){delete h[a]}},this.exists=function(a,b){return e.isDefined(h[b?this.find(a,b):a])},this.find=function(a,b){var c;return e.isArray(a)?e.map(a,function(a){return this.find(a,b)}):(e.forEach(h,function(d,f){e.parse("$config.$context.state")(d)===b&&(c=f+"."+a)}),c)},this.available=function(){return e.objectKeys(h)},this.active=function(){var a=[];return e.forEach(h,function(b,c){b&&b.$config&&a.push(c)}),a}}var e=c(3),f=function(){function a(a){this.config=a}return a.prototype.controller=function(a){void 0===a&&(a={invoke:e.noop});var b=this.config,c=this.config.controllerProvider;return e.isInjectable(c)?a.invoke(c):b.controller},a.prototype.hasTemplate=function(){return!!(this.config.template||this.config.templateUrl||this.config.templateProvider)},a.prototype.template=function(a,b,c){return a.fromConfig(this.config,b,c.invoke.bind(c))},a}(),g=function(){function a(a){this.map={},this.queued={},this.waiting=[],this.views=a}return a.prototype.push=function(a,b,c){if(c&&c.$context&&this.waiting.length&&this.digest(a,c.$context.state),this.views[a])return this.views[a](c),this.views[a].$config=c,c;var d="Attempted to synchronously load template into non-existent view "+a;return b?this.map[a]=c:new Error(d)},a.prototype.pop=function(a,b){this.queued[a]&&(b(this.queued[a]),this.views[a].$config=this.queued[a],delete this.queued[a])},a.prototype.digest=function(a,b){for(var c=this.waiting.length-1;c>=0;c--)this.waiting[c].stateContext===b&&this.waiting.splice(c,1)[0].defer.resolve(a)},a.prototype.waitFor=function(a,b){return this.waiting.push({stateContext:a,defer:b}),b?b.promise:null},a}();d.$inject=["$rootScope","$templateFactory","$q"],angular.module("ui.router.state").service("$view",d)},function(a,b,c){function d(a,b,c,d){function e(a,c){return{enter:function(a,c,d){var e=b.enter(a,null,c,d);e&&e.then&&e.then(d)},leave:function(a,c){var d=b.leave(a,c);d&&d.then&&d.then(c)}}}function g(a,b){return a===b||a&&b&&a.controller===b.controller&&a.template===b.template&&f.parse("context.state")(a)===f.parse("context.state")(b)}var h={restrict:"ECA",terminal:!0,priority:400,transclude:"element",compile:function(b,h,i){return function(b,h,j){function k(a){g(u,a)||m(a)}function l(){n&&(n.remove(),n=null),p&&(p.$destroy(),p=null),o&&(t.leave(o,function(){n=null}),n=o,o=null)}function m(a){a=a||{};var d=b.$new();f.extend(x,{$template:a.template,$$controller:a.controller,$$controllerAs:a.config&&a.config.controllerAs,$context:a.$context});var e=i(d,function(a){t.enter(a.data("$uiView",x),h,function(){p&&p.$emit("$viewContentAnimationEnded"),(f.isDefined(s)&&!s||b.$eval(s))&&c(a)}),l()});o=e,p=d,p.$emit("$viewContentLoaded",a||u),p.$eval(r)}var n,o,p,q,r=j.onload||"",s=j.autoscroll,t=e(j,b),u={},v=h.inheritedData("$uiView"),w=d(j.uiView||j.name||"")(b)||"$default",x={name:v&&v.name?v.name+"."+w:w};h.data("$uiView",x),m(),q=a.register(x.name,k),b.$on("$destroy",function(){q()})}}};return h}function e(a,b,c,d,e){return{restrict:"ECA",priority:-400,compile:function(c){var e=c.html();return function(c,h){var i=h.data("$uiView");if(i){h.html(i.$template||e);var j=a(h.contents());if(i.$$controller){var k=i.$context,l=i.$$controller;f.isString(i.$$controller)&&(l=function(){},l.$inject=g.annotateController(b,d,i.$$controller)),k.getLocalsFor(l).then(function(a){var d=b(i.$$controller,f.extend(a,{$scope:c}));i.$$controllerAs&&(c[i.$$controllerAs]=d),h.data("$ngControllerController",d),h.children().data("$ngControllerController",d)})}j(c)}}}}}var f=c(3),g=c(2);d.$inject=["$view","$animate","$uiViewScroll","$interpolate"],e.$inject=["$compile","$controller","$interpolate","$injector","$q"],angular.module("ui.router.state").directive("uiView",d),angular.module("ui.router.state").directive("uiView",e)},function(a,b){function c(){var a=!1;this.useAnchorScroll=function(){a=!0},this.$get=["$anchorScroll","$timeout",function(b,c){return a?b:function(a){return c(function(){a[0].scrollIntoView()},0,!1)}}]}angular.module("ui.router.state").provider("$uiViewScroll",c)}])});